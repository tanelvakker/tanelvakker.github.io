<!doctype html>
<html lang="et">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LÃµunakarbi mÃ¤ng</title>
  <meta name="description" content="Paki tÃ¼druku lÃµunakarp â€“ vali sobivad asjad, vÃ¤ldi vimkasid ja kiirtoite!" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="app-header">
    <h1>ğŸ’ LÃµunakarbi mÃ¤ng</h1>
    <div class="actions">
      <button id="resetBtn" class="secondary">Alusta uuesti</button>
    </div>
  </header>

  <main id="game">
    <section class="catalog">
      <div class="filters">
        <input id="search" type="search" placeholder="Otsi... (nt 'puuvili', 'vesi', 'magus')" aria-label="Otsi tooteid" />
        <div id="categories" class="chips" role="tablist" aria-label="Kategooriad"></div>
      </div>
      <div id="items" class="items" aria-live="polite"></div>
    </section>

    <section class="lunchbox" aria-labelledby="lunchboxTitle">
      <h2 id="lunchboxTitle">ğŸ§Š Minu lÃµunakarp <span id="capacityHint"></span></h2>
      <div id="dropzone" class="dropzone" aria-describedby="dropHelp" tabindex="0"></div>
      <p id="dropHelp" class="hint">Tiri asju siia vÃµi klÃµpsa kataloogis, et lisada. KlÃµpsa karbis oleval asjal, et eemaldada.</p>
      <div class="controls">
        <button id="evaluateBtn" class="primary">Paki valmis ja hinda</button>
      </div>
      <div id="scorePanel" class="score hidden" aria-live="polite"></div>
    </section>

    <aside class="girl" aria-live="polite">
      <h2>ğŸ‘§ TÃ¼druk</h2>
      <div class="face" id="face" aria-label="TÃ¼druku nÃ¤gu" role="img">
        <div class="avatar" id="avatar">
          <!-- Inline OpenMoji Girl (1F467) simplified; mouth paths controllable -->
          <svg id="girlSvg" viewBox="0 0 72 72" width="200" height="200" xmlns="http://www.w3.org/2000/svg" aria-hidden="false">
            <g id="color">
              <path fill="#92D3F5" d="M18,60.9V57c0-5,3.8-9,8.8-9c6,5,12,5,18,0c5,0,9.2,4,9.2,9v3.9H18z"/>
            </g>
            <g id="hair">
              <path fill="#F1B31C" d="M22.1,49.4c1.4-0.9,3-1.4,4.7-1.4c6,5,12,5,18,0c1.7,0,3.3,0.5,4.7,1.3c1.2-0.9,2.3-1.8,3.1-2.6 c2.9-3.1,3.7-6.8,2-10.8c-2.4-5.7-3-5.6-3.4-12.8c0-4.2-3.2-7.7-7.4-8c0,0-2.6-3-8-3c-6.4,0-12.2,3.5-13.7,9 c-1.5,5.6,0.3,7.8-1.3,12C19,37.8,15,41.5,19.5,47C20.1,47.7,21,48.6,22.1,49.4z"/>
            </g>
            <g id="skin">
              <path fill="#FCEA2B" d="M25,32c0,8,4.8,12.9,10.8,12.9S47,40,47,32c0-4-1-6-1-6c-2-2-4-4-4-4s-12,2-16,4C26,26,25,28,25,32z"/>
            </g>
            <g id="line">
              <path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18,60v-3.1 c0-5,3.8-9,8.8-9c6,5,12,5,18,0c5,0,9.2,4,9.2,9V60"/>
              <path d="M42,31c0,1.1-0.9,2-2,2s-2-0.9-2-2s0.9-2,2-2S42,29.9,42,31"/>
              <path d="M34,31c0,1.1-0.9,2-2,2s-2-0.9-2-2s0.9-2,2-2C33.1,29,34,29.9,34,31"/>
              <path fill="none" stroke="#000" stroke-linejoin="round" stroke-width="2" d="M25,32c0,8,4.8,12.9,10.8,12.9S47,40,47,32 c0-4-1-6-1-6c-2-2-4-4-4-4s-12,2-16,4C26,26,25,28,25,32z"/>
              <!-- Customizable mouth variants (only one has .active at a time) -->
              <g fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round">
                <path id="mouthNeutral" class="mouth-shape active" stroke-width="2.4" d="M32.8 38.2c1.9 1 4.1 1 6 0"/>
                <path id="mouthHappy" class="mouth-shape" stroke-width="2.6" d="M30 38 Q 36 43 42 38"/>
                <path id="mouthSad" class="mouth-shape" stroke-width="2.6" d="M30 40 Q 36 34 42 40"/>
              </g>
              <path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20,46 c-4-6-1.8-8.3,0.1-13c1.6-4.2-0.2-6.5,1.3-12s7.3-9,13.7-9c5.4,0,8,3,8,3c4.2,0.4,7.4,3.9,7.4,8c0.4,7.2,1,7.2,3.4,12.8 c1.8,4.1,1,6.8-1.9,10.1"/>
            </g>
          </svg>
          <!-- Oksendamise efekt -->
          <div id="vomit" class="vomit" aria-hidden="true"><span class="spray">ğŸ¤®</span></div>
        </div>
      </div>
      <div id="mood" class="mood">
        Meeleolu: <span id="moodText">neutraalne</span>
        <div class="bar"><div id="moodBar" class="fill"></div></div>
      </div>
      <div id="feedPanel" class="feed hidden">
        <h3>Toitmise faas</h3>
        <p>JÃ¤rjekorras: <span id="feedQueueCount">0</span></p>
        <div id="currentItem" class="current-item"></div>
        <button id="feedBtn" class="primary">JÃ¤rgmine amps</button>
        <button id="backToPackBtn" class="secondary">Tagasi pakkima</button>
      </div>
    </aside>
  </main>

  <footer class="app-footer">
    <small>Heliefektid: WebAudio | Graafika: OpenMoji â€“ CC BY-SA 4.0 | KÃµik tekstid eesti keeles | Â© 2025</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
